{"ast":null,"code":"import withEvents from \"../../lib/withEvents\";\nimport withSelfEvents from \"./withSelfEvents\";\nconst popupEvents = {\n  open: \"open\",\n  close: \"close\"\n};\n\n/**\n * Popup component.\n * @see See [Mapbox Gl JS Popup](https://www.mapbox.com/mapbox-gl-js/api/#popup)\n */\nexport default {\n  name: \"Popup\",\n  mixins: [withEvents, withSelfEvents],\n  inject: {\n    mapbox: {\n      default: null\n    },\n    map: {\n      default: null\n    },\n    marker: {\n      default: null\n    }\n  },\n  props: {\n    /**\n     * If `true`, a close button will appear in the top right corner of the popup.\n     * Mapbox GL popup option.\n     */\n    closeButton: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Mapbox GL popup option.\n     * If `true`, the popup will closed when the map is clicked. .\n     */\n    closeOnClick: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Mapbox GL popup option.\n     * A string indicating the popup's location relative to the coordinate set.\n     * If unset the anchor will be dynamically set to ensure the popup falls within the map container with a preference for 'bottom' .\n     *  'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'\n     */\n    anchor: {\n      validator(value) {\n        let allowedValues = [\"top\", \"bottom\", \"left\", \"right\", \"top-left\", \"top-right\", \"bottom-left\", \"bottom-right\"];\n        return typeof value === \"string\" && allowedValues.includes(value);\n      },\n      default: undefined\n    },\n    /**\n     * Mapbox GL popup option.\n     * A pixel offset applied to the popup's location\n     * a single number specifying a distance from the popup's location\n     * a PointLike specifying a constant offset\n     * an object of Points specifing an offset for each anchor position Negative offsets indicate left and up.\n     */\n    offset: {\n      type: [Number, Object, Array],\n      default: () => [0, 0]\n    },\n    coordinates: {\n      type: Array\n    },\n    /**\n     * Component option.\n     * If `true`, popup treats data in deafult slot as plain text\n     */\n    onlyText: {\n      type: Boolean,\n      default: false\n    },\n    showed: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      initial: true,\n      popup: undefined\n    };\n  },\n  computed: {\n    open: {\n      get() {\n        if (this.popup !== undefined) {\n          return this.popup.isOpen();\n        }\n        return false;\n      },\n      set(value) {\n        if (this.map && this.popup) {\n          if (value) {\n            this.popup.remove();\n          } else {\n            this.popup.addTo(this.map);\n          }\n        }\n      }\n    }\n  },\n  watch: {\n    coordinates(lngLat) {\n      if (this.initial) return;\n      this.popup.setLngLat(lngLat);\n    },\n    showed(next, prev) {\n      if (next !== prev) {\n        this.open = next;\n        if (this.marker) {\n          this.marker.togglePopup();\n        }\n      }\n    }\n  },\n  created() {\n    this.popup = new this.mapbox.Popup(this.$props);\n  },\n  mounted() {\n    this.$_addPopup();\n    this.initial = false;\n  },\n  beforeDestroy() {\n    if (this.map) {\n      this.popup.remove();\n      this.$_emitEvent(\"removed\");\n    }\n  },\n  methods: {\n    $_addPopup() {\n      this.popup = new this.mapbox.Popup(this.$props);\n      if (this.coordinates !== undefined) {\n        this.popup.setLngLat(this.coordinates);\n      }\n      if (this.$slots.default !== undefined) {\n        if (this.onlyText) {\n          if (this.$slots.default[0].elm.nodeType === 3) {\n            let tmpEl = document.createElement(\"span\");\n            tmpEl.appendChild(this.$slots.default[0].elm);\n            this.popup.setText(tmpEl.innerText);\n          } else {\n            this.popup.setText(this.$slots.default[0].elm.innerText);\n          }\n        } else {\n          this.popup.setDOMContent(this.$slots.default[0].elm);\n        }\n      }\n      this.$_bindSelfEvents(Object.keys(popupEvents), this.popup);\n      this.$_emitEvent(\"added\", {\n        popup: this.popup\n      });\n      if (this.marker) {\n        this.marker.setPopup(this.popup);\n      }\n      if (this.showed) {\n        this.open = true;\n        if (this.marker) {\n          this.marker.togglePopup();\n        }\n      }\n    },\n    $_emitSelfEvent(event) {\n      this.$_emitMapEvent(event, {\n        popup: this.popup\n      });\n    },\n    remove() {\n      this.popup.remove();\n      this.$_emitEvent(\"remove\", {\n        popup: this.popup\n      });\n    }\n  }\n};","map":{"version":3,"names":["withEvents","withSelfEvents","popupEvents","open","close","name","mixins","inject","mapbox","default","map","marker","props","closeButton","type","Boolean","closeOnClick","anchor","validator","value","allowedValues","includes","undefined","offset","Number","Object","Array","coordinates","onlyText","showed","data","initial","popup","computed","get","isOpen","set","remove","addTo","watch","lngLat","setLngLat","next","prev","togglePopup","created","Popup","$props","mounted","$_addPopup","beforeDestroy","$_emitEvent","methods","$slots","elm","nodeType","tmpEl","document","createElement","appendChild","setText","innerText","setDOMContent","$_bindSelfEvents","keys","setPopup","$_emitSelfEvent","event","$_emitMapEvent"],"sources":["/Users/azizjonabdugafforov/Desktop/Code/SilkRoadExpress_WebApp/node_modules/vue-mapbox/src/components/UI/Popup.vue"],"sourcesContent":["<template>\n  <div style=\"display: none\">\n    <!-- @slot Slot for popup content -->\n    <slot />\n  </div>\n</template>\n\n<script>\nimport withEvents from \"../../lib/withEvents\";\nimport withSelfEvents from \"./withSelfEvents\";\n\nconst popupEvents = {\n  open: \"open\",\n  close: \"close\"\n};\n\n/**\n * Popup component.\n * @see See [Mapbox Gl JS Popup](https://www.mapbox.com/mapbox-gl-js/api/#popup)\n */\nexport default {\n  name: \"Popup\",\n  mixins: [withEvents, withSelfEvents],\n\n  inject: {\n    mapbox: {\n      default: null\n    },\n    map: {\n      default: null\n    },\n    marker: {\n      default: null\n    }\n  },\n\n  props: {\n    /**\n     * If `true`, a close button will appear in the top right corner of the popup.\n     * Mapbox GL popup option.\n     */\n    closeButton: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Mapbox GL popup option.\n     * If `true`, the popup will closed when the map is clicked. .\n     */\n    closeOnClick: {\n      type: Boolean,\n      default: true\n    },\n    /**\n     * Mapbox GL popup option.\n     * A string indicating the popup's location relative to the coordinate set.\n     * If unset the anchor will be dynamically set to ensure the popup falls within the map container with a preference for 'bottom' .\n     *  'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'\n     */\n    anchor: {\n      validator(value) {\n        let allowedValues = [\n          \"top\",\n          \"bottom\",\n          \"left\",\n          \"right\",\n          \"top-left\",\n          \"top-right\",\n          \"bottom-left\",\n          \"bottom-right\"\n        ];\n        return typeof value === \"string\" && allowedValues.includes(value);\n      },\n      default: undefined\n    },\n    /**\n     * Mapbox GL popup option.\n     * A pixel offset applied to the popup's location\n     * a single number specifying a distance from the popup's location\n     * a PointLike specifying a constant offset\n     * an object of Points specifing an offset for each anchor position Negative offsets indicate left and up.\n     */\n    offset: {\n      type: [Number, Object, Array],\n      default: () => [0, 0]\n    },\n    coordinates: {\n      type: Array\n    },\n\n    /**\n     * Component option.\n     * If `true`, popup treats data in deafult slot as plain text\n     */\n    onlyText: {\n      type: Boolean,\n      default: false\n    },\n\n    showed: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      initial: true,\n      popup: undefined\n    };\n  },\n\n  computed: {\n    open: {\n      get() {\n        if (this.popup !== undefined) {\n          return this.popup.isOpen();\n        }\n        return false;\n      },\n      set(value) {\n        if (this.map && this.popup) {\n          if (value) {\n            this.popup.remove();\n          } else {\n            this.popup.addTo(this.map);\n          }\n        }\n      }\n    }\n  },\n\n  watch: {\n    coordinates(lngLat) {\n      if (this.initial) return;\n      this.popup.setLngLat(lngLat);\n    },\n\n    showed(next, prev) {\n      if (next !== prev) {\n        this.open = next;\n        if (this.marker) {\n          this.marker.togglePopup();\n        }\n      }\n    }\n  },\n\n  created() {\n    this.popup = new this.mapbox.Popup(this.$props);\n  },\n\n  mounted() {\n    this.$_addPopup();\n    this.initial = false;\n  },\n\n  beforeDestroy() {\n    if (this.map) {\n      this.popup.remove();\n      this.$_emitEvent(\"removed\");\n    }\n  },\n\n  methods: {\n    $_addPopup() {\n      this.popup = new this.mapbox.Popup(this.$props);\n      if (this.coordinates !== undefined) {\n        this.popup.setLngLat(this.coordinates);\n      }\n      if (this.$slots.default !== undefined) {\n        if (this.onlyText) {\n          if (this.$slots.default[0].elm.nodeType === 3) {\n            let tmpEl = document.createElement(\"span\");\n            tmpEl.appendChild(this.$slots.default[0].elm);\n            this.popup.setText(tmpEl.innerText);\n          } else {\n            this.popup.setText(this.$slots.default[0].elm.innerText);\n          }\n        } else {\n          this.popup.setDOMContent(this.$slots.default[0].elm);\n        }\n      }\n\n      this.$_bindSelfEvents(Object.keys(popupEvents), this.popup);\n\n      this.$_emitEvent(\"added\", { popup: this.popup });\n\n      if (this.marker) {\n        this.marker.setPopup(this.popup);\n      }\n      if (this.showed) {\n        this.open = true;\n\n        if (this.marker) {\n          this.marker.togglePopup();\n        }\n      }\n    },\n\n    $_emitSelfEvent(event) {\n      this.$_emitMapEvent(event, { popup: this.popup });\n    },\n\n    remove() {\n      this.popup.remove();\n      this.$_emitEvent(\"remove\", { popup: this.popup });\n    }\n  }\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}