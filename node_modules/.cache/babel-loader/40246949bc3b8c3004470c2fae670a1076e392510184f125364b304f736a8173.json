{"ast":null,"code":"// import withRegistration from \"../../lib/withRegistration\";\nimport withEvents from \"../../lib/withEvents\";\nconst mapboxSourceProps = {\n  sourceId: {\n    type: String,\n    required: true\n  },\n  source: {\n    type: [Object, String],\n    default: undefined\n  }\n};\nconst mapboxLayerStyleProps = {\n  layerId: {\n    type: String,\n    required: true\n  },\n  layer: {\n    type: Object,\n    required: true\n  },\n  before: {\n    type: String,\n    default: undefined\n  }\n};\nconst componentProps = {\n  clearSource: {\n    type: Boolean,\n    default: true\n  },\n  replaceSource: {\n    type: Boolean,\n    default: false\n  },\n  replace: {\n    type: Boolean,\n    default: false\n  }\n};\nexport default {\n  mixins: [withEvents],\n  props: {\n    ...mapboxSourceProps,\n    ...mapboxLayerStyleProps,\n    ...componentProps\n  },\n  inject: [\"mapbox\", \"map\"],\n  data() {\n    return {\n      initial: true\n    };\n  },\n  computed: {\n    sourceLoaded() {\n      return this.map ? this.map.isSourceLoaded(this.sourceId) : false;\n    },\n    mapLayer() {\n      return this.map ? this.map.getLayer(this.layerId) : null;\n    },\n    mapSource() {\n      return this.map ? this.map.getSource(this.sourceId) : null;\n    }\n  },\n  created() {\n    if (this.layer.minzoom) {\n      this.$watch(\"layer.minzoom\", function (next) {\n        if (this.initial) return;\n        this.map.setLayerZoomRange(this.layerId, next, this.layer.maxzoom);\n      });\n    }\n    if (this.layer.maxzoom) {\n      this.$watch(\"layer.maxzoom\", function (next) {\n        if (this.initial) return;\n        this.map.setLayerZoomRange(this.layerId, this.layer.minzoom, next);\n      });\n    }\n    if (this.layer.paint) {\n      this.$watch(\"layer.paint\", function (next) {\n        if (this.initial) return;\n        if (next) {\n          for (let prop of Object.keys(next)) {\n            this.map.setPaintProperty(this.layerId, prop, next[prop]);\n          }\n        }\n      }, {\n        deep: true\n      });\n    }\n    if (this.layer.layout) {\n      this.$watch(\"layer.layout\", function (next) {\n        if (this.initial) return;\n        if (next) {\n          for (let prop of Object.keys(next)) {\n            this.map.setLayoutProperty(this.layerId, prop, next[prop]);\n          }\n        }\n      }, {\n        deep: true\n      });\n    }\n    if (this.layer.filter) {\n      this.$watch(\"layer.filter\", function (next) {\n        if (this.initial) return;\n        this.map.setFilter(this.layerId, next);\n      }, {\n        deep: true\n      });\n    }\n  },\n  beforeDestroy() {\n    if (this.map && this.map.loaded()) {\n      try {\n        this.map.removeLayer(this.layerId);\n      } catch (err) {\n        this.$_emitEvent(\"layer-does-not-exist\", {\n          layerId: this.sourceId,\n          error: err\n        });\n      }\n      if (this.clearSource) {\n        try {\n          this.map.removeSource(this.sourceId);\n        } catch (err) {\n          this.$_emitEvent(\"source-does-not-exist\", {\n            sourceId: this.sourceId,\n            error: err\n          });\n        }\n      }\n    }\n  },\n  methods: {\n    $_emitLayerMapEvent(event) {\n      return this.$_emitMapEvent(event, {\n        layerId: this.layerId\n      });\n    },\n    $_bindLayerEvents(events) {\n      Object.keys(this.$listeners).forEach(eventName => {\n        if (events.includes(eventName)) {\n          this.map.on(eventName, this.layerId, this.$_emitLayerMapEvent);\n        }\n      });\n    },\n    $_unbindEvents(events) {\n      if (this.map) {\n        events.forEach(eventName => {\n          this.map.off(eventName, this.layerId, this.$_emitLayerMapEvent);\n        });\n      }\n    },\n    $_watchSourceLoading(data) {\n      if (data.dataType === \"source\" && data.sourceId === this.sourceId) {\n        this.$_emitEvent(\"layer-source-loading\", {\n          sourceId: this.sourceId\n        });\n        this.map.off(\"dataloading\", this.$_watchSourceLoading);\n      }\n    },\n    move(beforeId) {\n      this.map.moveLayer(this.layerId, beforeId);\n      this.$_emitEvent(\"layer-moved\", {\n        layerId: this.layerId,\n        beforeId: beforeId\n      });\n    },\n    remove() {\n      this.map.removeLayer(this.layerId);\n      this.map.removeSource(this.sourceId);\n      this.$_emitEvent(\"layer-removed\", {\n        layerId: this.layerId\n      });\n      this.$destroy();\n    }\n  },\n  render() {}\n};","map":{"version":3,"names":["withEvents","mapboxSourceProps","sourceId","type","String","required","source","Object","default","undefined","mapboxLayerStyleProps","layerId","layer","before","componentProps","clearSource","Boolean","replaceSource","replace","mixins","props","inject","data","initial","computed","sourceLoaded","map","isSourceLoaded","mapLayer","getLayer","mapSource","getSource","created","minzoom","$watch","next","setLayerZoomRange","maxzoom","paint","prop","keys","setPaintProperty","deep","layout","setLayoutProperty","filter","setFilter","beforeDestroy","loaded","removeLayer","err","$_emitEvent","error","removeSource","methods","$_emitLayerMapEvent","event","$_emitMapEvent","$_bindLayerEvents","events","$listeners","forEach","eventName","includes","on","$_unbindEvents","off","$_watchSourceLoading","dataType","move","beforeId","moveLayer","remove","$destroy","render"],"sources":["/Users/azizjonabdugafforov/Desktop/Code/SilkRoadExpress_WebApp/node_modules/vue-mapbox/src/components/layer/layerMixin.js"],"sourcesContent":["// import withRegistration from \"../../lib/withRegistration\";\nimport withEvents from \"../../lib/withEvents\";\n\nconst mapboxSourceProps = {\n  sourceId: {\n    type: String,\n    required: true\n  },\n  source: {\n    type: [Object, String],\n    default: undefined\n  }\n};\n\nconst mapboxLayerStyleProps = {\n  layerId: {\n    type: String,\n    required: true\n  },\n  layer: {\n    type: Object,\n    required: true\n  },\n  before: {\n    type: String,\n    default: undefined\n  }\n};\n\nconst componentProps = {\n  clearSource: {\n    type: Boolean,\n    default: true\n  },\n  replaceSource: {\n    type: Boolean,\n    default: false\n  },\n  replace: {\n    type: Boolean,\n    default: false\n  }\n};\n\nexport default {\n  mixins: [withEvents],\n  props: {\n    ...mapboxSourceProps,\n    ...mapboxLayerStyleProps,\n    ...componentProps\n  },\n\n  inject: [\"mapbox\", \"map\"],\n\n  data() {\n    return {\n      initial: true\n    };\n  },\n\n  computed: {\n    sourceLoaded() {\n      return this.map ? this.map.isSourceLoaded(this.sourceId) : false;\n    },\n    mapLayer() {\n      return this.map ? this.map.getLayer(this.layerId) : null;\n    },\n    mapSource() {\n      return this.map ? this.map.getSource(this.sourceId) : null;\n    }\n  },\n\n  created() {\n    if (this.layer.minzoom) {\n      this.$watch(\"layer.minzoom\", function(next) {\n        if (this.initial) return;\n        this.map.setLayerZoomRange(this.layerId, next, this.layer.maxzoom);\n      });\n    }\n\n    if (this.layer.maxzoom) {\n      this.$watch(\"layer.maxzoom\", function(next) {\n        if (this.initial) return;\n        this.map.setLayerZoomRange(this.layerId, this.layer.minzoom, next);\n      });\n    }\n\n    if (this.layer.paint) {\n      this.$watch(\n        \"layer.paint\",\n        function(next) {\n          if (this.initial) return;\n          if (next) {\n            for (let prop of Object.keys(next)) {\n              this.map.setPaintProperty(this.layerId, prop, next[prop]);\n            }\n          }\n        },\n        { deep: true }\n      );\n    }\n\n    if (this.layer.layout) {\n      this.$watch(\n        \"layer.layout\",\n        function(next) {\n          if (this.initial) return;\n          if (next) {\n            for (let prop of Object.keys(next)) {\n              this.map.setLayoutProperty(this.layerId, prop, next[prop]);\n            }\n          }\n        },\n        { deep: true }\n      );\n    }\n\n    if (this.layer.filter) {\n      this.$watch(\n        \"layer.filter\",\n        function(next) {\n          if (this.initial) return;\n          this.map.setFilter(this.layerId, next);\n        },\n        { deep: true }\n      );\n    }\n  },\n\n  beforeDestroy() {\n    if (this.map && this.map.loaded()) {\n      try {\n        this.map.removeLayer(this.layerId);\n      } catch (err) {\n        this.$_emitEvent(\"layer-does-not-exist\", {\n          layerId: this.sourceId,\n          error: err\n        });\n      }\n      if (this.clearSource) {\n        try {\n          this.map.removeSource(this.sourceId);\n        } catch (err) {\n          this.$_emitEvent(\"source-does-not-exist\", {\n            sourceId: this.sourceId,\n            error: err\n          });\n        }\n      }\n    }\n  },\n\n  methods: {\n    $_emitLayerMapEvent(event) {\n      return this.$_emitMapEvent(event, { layerId: this.layerId });\n    },\n\n    $_bindLayerEvents(events) {\n      Object.keys(this.$listeners).forEach(eventName => {\n        if (events.includes(eventName)) {\n          this.map.on(eventName, this.layerId, this.$_emitLayerMapEvent);\n        }\n      });\n    },\n\n    $_unbindEvents(events) {\n      if (this.map) {\n        events.forEach(eventName => {\n          this.map.off(eventName, this.layerId, this.$_emitLayerMapEvent);\n        });\n      }\n    },\n\n    $_watchSourceLoading(data) {\n      if (data.dataType === \"source\" && data.sourceId === this.sourceId) {\n        this.$_emitEvent(\"layer-source-loading\", { sourceId: this.sourceId });\n        this.map.off(\"dataloading\", this.$_watchSourceLoading);\n      }\n    },\n\n    move(beforeId) {\n      this.map.moveLayer(this.layerId, beforeId);\n      this.$_emitEvent(\"layer-moved\", {\n        layerId: this.layerId,\n        beforeId: beforeId\n      });\n    },\n\n    remove() {\n      this.map.removeLayer(this.layerId);\n      this.map.removeSource(this.sourceId);\n      this.$_emitEvent(\"layer-removed\", { layerId: this.layerId });\n      this.$destroy();\n    }\n  },\n\n  render() {}\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}